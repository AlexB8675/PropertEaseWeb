<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="description" content="description">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="theme-color" content="black">
        <link rel="stylesheet" href="./css/style.css">
        <link rel="stylesheet" href="./css/house.css">
        <link rel="stylesheet" href="./tool/tool.css">
        <link rel="manifest" href="./manifest.json">
        <script src="https://code.jquery.com/jquery-3.7.1.js"
                integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4="
                crossorigin="anonymous"></script>
        <script src="https://kit.fontawesome.com/e861ef950b.js"
                crossorigin="anonymous"></script>
        <script src="./tool/common.js"></script>
        <script src="./js/script.js"></script>
        <script src="./js/houses.js"></script>
        <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBSLZX8avlfOCjPckDHT7WKnhGXPNwajnY&libraries=places&callback=initMap"
                async></script>
        <title>PropertEaseWeb</title>
    </head>
    <body>
        <div class="blur"></div>
        <div id="login">
            <i id="close" class="fa-regular fa-circle-xmark"></i>
            <label>Login</label>
            <label id="login-status-info"></label>
            <form id="login-form">
                <label for="login-username-input"><i class="fa-solid fa-user"></i></label>
                <input id="login-username-input" placeholder="Username" type="text" required>
                <label for="login-password-input"><i class="fa-solid fa-key"></i></label>
                <input id="login-password-input" placeholder="Password" type="password" required>
            </form>
            <div class="submit-buttons">
                <button type="submit" id="register-button" class="generic-button" form="login-form">Sign Up</button>
                <button type="submit" id="login-button" class="generic-button" form="login-form">Sign In</button>
            </div>
        </div>
        <div id="header">
            <div id="header-title-container">
                <a href="index.html">PropertEase</a>
            </div>
            <div id="header-button-container">
                <i class="fa-solid fa-user"></i>
                <i class="fa-solid fa-sign-out"></i>
            </div>
        </div>
        <div id="scroller">
            <div id="room-name"></div>
            <div id="house-ui">
                <div id="house-displayer">
                    <div id="slider">
                        <div id="slider-images"></div>
                        <div id="slider-nav">
                            <i class="fa-solid fa-chevron-left"></i>
                            <i class="fa-solid fa-chevron-right"></i>
                        </div>
                    </div>
                    <div id="highlights">
                        <gmp-map id="map"></gmp-map>
                        <img src="images/placeholder.svg" alt>
                    </div>
                </div>
                <div id="house-info-container">
                    <div id="house-main" class="displayer">
                        <div class="section-title">
                            <i class="fa-solid fa-clipboard-list"></i>
                            <label>Key Features</label>
                        </div>
                        <div class="detail">
                            <label>Address:</label>
                            <label id="house-address"></label>
                        </div>
                        <div id="house-details">
                            <div class="detail">
                                <label>Floor:</label>
                                <label id="house-floor"></label>
                            </div>
                            <div class="detail">
                                <label>Elevator:</label>
                                <label id="house-elevator"></label>
                            </div>
                            <div class="detail">
                                <label>Balconies:</label>
                                <label id="house-balcony"></label>
                            </div>
                            <div class="detail">
                                <label>Terrace:</label>
                                <label id="house-terrace"></label>
                            </div>
                            <div class="detail">
                                <label>Garden:</label>
                                <label id="house-garden"></label>
                            </div>
                            <div class="detail">
                                <label>Accessories:</label>
                                <label id="house-accessories"></label>
                            </div>
                            <div class="detail">
                                <label>Bedrooms:</label>
                                <label id="house-bedrooms"></label>
                            </div>
                            <div class="detail">
                                <label>sqm:</label>
                                <label id="house-sqm"></label>
                            </div>

                        </div>
                        <div class="section-title">
                            <label>Description</label>
                        </div>
                        <label id="house-description"></label>
                    </div>
                    <div id="house-contacts" class="displayer">
                        <div class="section-title">
                            <i class="fa-regular fa-address-book"></i>
                            <label>Contacts</label>
                        </div>
                        <form id="contact-form">
                            <div class="contact-entry">
                                <i class="fa-solid fa-shop"></i>
                                <a>Marketed by</a>
                            </div>
                            <div class="contact-entry">
                                <i class="fa-solid fa-envelope"></i>
                                <a href="mailto:house@mail.it">house@mail.it</a>
                            </div>
                            <div class="contact-entry">
                                <i class="fa-brands fa-whatsapp"></i>
                                <a href="tel:3790000000">+39 379 0000 000</a>
                            </div>
                            <div class="contact-entry">
                                <i class="fa-solid fa-location-dot"></i>
                                <a href="address.googlemaps">Via Brombeis 69</a>
                            </div>
                            <a id="call-button" href="tel:081000000"><i class="fa-solid fa-phone"></i>Call us</a>
                        </form>
                    </div>
                    <div id="house-plan" class="displayer">
                        <div class="section-title">
                            <i class="fa-brands fa-flipboard"></i>
                            <label>House Plan</label>
                        </div>
                        <div id="house-plan-container">
                            <div class="shown-picture" id="preview-image"></div>
                        </div>
                    </div>
                    <div id="house-energy" class="displayer">
                        <div class="section-title">
                            <i class="fa-solid fa-lightbulb"></i>
                            <label>Energy Performance</label>
                        </div>
                        <div id="energy-bar">
                            <div>A</div>
                            <div>B</div>
                            <div>C</div>
                            <div>D</div>
                            <div>E</div>
                            <div>F</div>
                            <div>G</div>
                            <div style="background-color: #007b39"></div>
                            <div style="background-color: #67b550"></div>
                            <div style="background-color: #92c037"></div>
                            <div style="background-color: #d1d71d"></div>
                            <div style="background-color: #e0ac24"></div>
                            <div style="background-color: #cc5e0b"></div>
                            <div style="background-color: #c01a1b"></div>
                        </div>
                        <div id="energy-info">
                            <div>
                                <label>Performance</label>
                                <label id="house-energy-performance"></label>
                            </div>
                            <div>
                                <label>Energy System</label>
                                <label id="house-energy-system"></label>
                            </div>
                            <div>
                                <label>Fueled by</label>
                                <label id="house-energy-fuel"></label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div id="footer">
                <div>
                    <a href="mailto:gabriel.amore001@studenti.uniparthenope.it">0124002585 | Amore Gabriel</a>
                    <a href="mailto:alexandr.benbaccar001@studenti.uniparthenope.it">0124002586 | Ben Baccar Alexandr</a>
                    <a href="mailto:carmine.demicco001@studenti.uniparthenope.it">0124002630 | De Micco Carmine</a>
                </div>
                <a href="https://www.uniparthenope.it">
                    <img src="images/parthenope_logo.png" alt="Uniparthenope">
                </a>
            </div>
        </div>

        <script async defer>
            let map;
            let marker;
            let placeService;
            async function initMap() {
                const { Map } = await google.maps.importLibrary("maps");
                const { AdvancedMarkerElement } = await google.maps.importLibrary("marker");
                map = new Map(document.getElementById('map'), {
                    mapId: '62208738a58b12e9',
                    zoom: 15,
                    disableDefaultUI: true,
                    zoomControl: false,
                    gestureHandling: 'cooperative',
                });
                placeService = new google.maps.places.PlacesService(map);
                placeService.textSearch({
                    query: `${$('#house-address').text()}, ${$('#house-city').text()}`
                }, (results, status) => {
                    if (status === google.maps.places.PlacesServiceStatus.OK) {
                        const data = results[0];
                        map.setCenter(data.geometry.location);
                        marker = new AdvancedMarkerElement({
                            map: map,
                            position: { lat: data.geometry.location.lat(), lng: data.geometry.location.lng() },
                            title: 'Casa'
                        });
                    }
                });
            }

            initMap();
        </script>
    </body>
</html>